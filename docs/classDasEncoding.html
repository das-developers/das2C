<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>das2C: DasEncoding Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="das2logo-32.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">das2C
   </div>
   <div id="projectbrief">das2 core C utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">DasEncoding Class Reference<div class="ingroups"><a class="el" href="group__streams.html">Streams</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="encoding_8h_source.html">das2/encoding.h</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Reading and writing values on das2 streams. </p>
<p>Values in a Das2 Stream have can be encoded in a variety of ways. Values can be big-endian reals, little-endian floats, ASCII strings, etc. In to it's basic category values can be represented on the stream using a variable number of bytes. It is the job of this class to handle encoding and decoding values from a Das2 Stream. <br  />
</p>
<p>This class handles syntax not semantics. The type of measurement represented by a value depends on it's <a class="el" href="group__units.html#ga69f5744c4a283544d36b64714e8b422d" title="Enumeration of unit types, that correspond to physical unit types.">das_units</a> Any double value can be output as in any given encoding. The functions for this class are happy to output amplitudes at time strings. It's up to other classes to see that proper encodings are used.</p>
<p>This class contains no pointers to heap objects and thus may be handled as pure stack variables.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__units.html#ga69f5744c4a283544d36b64714e8b422d" title="Enumeration of unit types, that correspond to physical unit types.">das_units</a> </dd>
<dd>
::PlaneDesc </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ga33029afed778a7429d79f4c7b3210e0e"><td class="memItemLeft" align="right" valign="top">DAS_API <a class="el" href="classDasEncoding.html">DasEncoding</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__streams.html#ga33029afed778a7429d79f4c7b3210e0e">new_DasEncoding</a> (int nCat, int nWidth, const char *sFmt)</td></tr>
<tr class="memdesc:ga33029afed778a7429d79f4c7b3210e0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a new data encoder/decoder.  <a href="group__streams.html#ga33029afed778a7429d79f4c7b3210e0e">More...</a><br /></td></tr>
<tr class="separator:ga33029afed778a7429d79f4c7b3210e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0379e37ca6eb2e1e5c21a83e3888b6d"><td class="memItemLeft" align="right" valign="top">DAS_API <a class="el" href="classDasEncoding.html">DasEncoding</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDasEncoding.html#ab0379e37ca6eb2e1e5c21a83e3888b6d">new_DasEncoding_str</a> (const char *sType)</td></tr>
<tr class="memdesc:ab0379e37ca6eb2e1e5c21a83e3888b6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new encoding based on the encoding type string.  <a href="classDasEncoding.html#ab0379e37ca6eb2e1e5c21a83e3888b6d">More...</a><br /></td></tr>
<tr class="separator:ab0379e37ca6eb2e1e5c21a83e3888b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac169f6d6bfff8036a410386e2cc31260"><td class="memItemLeft" align="right" valign="top">DAS_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDasEncoding.html#ac169f6d6bfff8036a410386e2cc31260">DasEnc_setAsciiFormat</a> (<a class="el" href="classDasEncoding.html">DasEncoding</a> *pThis, const char *sValFmt, int nFmtWidth)</td></tr>
<tr class="memdesc:ac169f6d6bfff8036a410386e2cc31260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the output format to be used when converting interal binary values to ASCII strings.  <a href="classDasEncoding.html#ac169f6d6bfff8036a410386e2cc31260">More...</a><br /></td></tr>
<tr class="separator:ac169f6d6bfff8036a410386e2cc31260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22dfaa5392a99b9e6666879151074eb"><td class="memItemLeft" align="right" valign="top">DAS_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDasEncoding.html#aa22dfaa5392a99b9e6666879151074eb">DasEnc_setTimeFormat</a> (<a class="el" href="classDasEncoding.html">DasEncoding</a> *pThis, const char *sTimeFmt, int nFmtWidth)</td></tr>
<tr class="memdesc:aa22dfaa5392a99b9e6666879151074eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the output format to be used when converting binary time values to to ASCII strings.  <a href="classDasEncoding.html#aa22dfaa5392a99b9e6666879151074eb">More...</a><br /></td></tr>
<tr class="separator:aa22dfaa5392a99b9e6666879151074eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b038f1b01a3a124ca3ccdf5fbafcbc1"><td class="memItemLeft" align="right" valign="top">DAS_API unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDasEncoding.html#a9b038f1b01a3a124ca3ccdf5fbafcbc1">DasEnc_hash</a> (const <a class="el" href="classDasEncoding.html">DasEncoding</a> *pThis)</td></tr>
<tr class="memdesc:a9b038f1b01a3a124ca3ccdf5fbafcbc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a hash value suitable for use in switch statements.  <a href="classDasEncoding.html#a9b038f1b01a3a124ca3ccdf5fbafcbc1">More...</a><br /></td></tr>
<tr class="separator:a9b038f1b01a3a124ca3ccdf5fbafcbc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e73f053a226a12796aa98ef51a83b6"><td class="memItemLeft" align="right" valign="top">DAS_API <a class="el" href="group__utilities.html#ga9f7e3a196d85388e6fa0170ab7c39ff7">DasErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDasEncoding.html#a02e73f053a226a12796aa98ef51a83b6">DasEnc_toStr</a> (<a class="el" href="classDasEncoding.html">DasEncoding</a> *pThis, char *sType, size_t nLen)</td></tr>
<tr class="memdesc:a02e73f053a226a12796aa98ef51a83b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a string representation of the data type.  <a href="classDasEncoding.html#a02e73f053a226a12796aa98ef51a83b6">More...</a><br /></td></tr>
<tr class="separator:a02e73f053a226a12796aa98ef51a83b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f2c2ec0d94d0bf34fcdb1cb9a58ef8"><td class="memItemLeft" align="right" valign="top">DAS_API <a class="el" href="group__utilities.html#ga9f7e3a196d85388e6fa0170ab7c39ff7">DasErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDasEncoding.html#ae6f2c2ec0d94d0bf34fcdb1cb9a58ef8">DasEnc_write</a> (<a class="el" href="classDasEncoding.html">DasEncoding</a> *pThis, DasBuf *pBuf, double value, <a class="el" href="group__units.html#ga69f5744c4a283544d36b64714e8b422d">das_units</a> units)</td></tr>
<tr class="memdesc:ae6f2c2ec0d94d0bf34fcdb1cb9a58ef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode and write a value onto a string.  <a href="classDasEncoding.html#ae6f2c2ec0d94d0bf34fcdb1cb9a58ef8">More...</a><br /></td></tr>
<tr class="separator:ae6f2c2ec0d94d0bf34fcdb1cb9a58ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe3e7345e7d9f30765fa342c3b389cd6"><td class="memItemLeft" align="right" valign="top">DAS_API <a class="el" href="group__utilities.html#ga9f7e3a196d85388e6fa0170ab7c39ff7">DasErrCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDasEncoding.html#afe3e7345e7d9f30765fa342c3b389cd6">DasEnc_read</a> (const <a class="el" href="classDasEncoding.html">DasEncoding</a> *pThis, DasBuf *pBuf, <a class="el" href="group__units.html#ga69f5744c4a283544d36b64714e8b422d">das_units</a> units, double *pOut)</td></tr>
<tr class="memdesc:afe3e7345e7d9f30765fa342c3b389cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and Decode a value from a string.  <a href="classDasEncoding.html#afe3e7345e7d9f30765fa342c3b389cd6">More...</a><br /></td></tr>
<tr class="separator:afe3e7345e7d9f30765fa342c3b389cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab0379e37ca6eb2e1e5c21a83e3888b6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0379e37ca6eb2e1e5c21a83e3888b6d">&#9670;&nbsp;</a></span>new_DasEncoding_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DAS_API <a class="el" href="classDasEncoding.html">DasEncoding</a> * new_DasEncoding_str </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new encoding based on the encoding type string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sType</td><td>the <em>type</em> string from a Das2 Stream plane definition. This should be one of, <b>sun_real8</b>, <b>little_endian_real8</b>, <b>sun_real4</b>, <b>little_endian_real4</b>, <b>ascii</b>XX, or <b>time</b>XX. Here <b>XX</b> is a field width.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new <a class="el" href="classDasEncoding.html" title="Reading and writing values on das2 streams.">DasEncoding</a> allocated on the heap. </dd></dl>

</div>
</div>
<a id="ac169f6d6bfff8036a410386e2cc31260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac169f6d6bfff8036a410386e2cc31260">&#9670;&nbsp;</a></span>DasEnc_setAsciiFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DAS_API void DasEnc_setAsciiFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDasEncoding.html">DasEncoding</a> *&#160;</td>
          <td class="paramname"><em>pThis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sValFmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nFmtWidth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the output format to be used when converting interal binary values to ASCII strings. </p>
<p>ASCII values are written to Das2 streams with a single space character between each formatted value. The last value of the the last plane is followed by a new-line character instead of a space character. Using this function will change the value format, but will not alter the separater character or the end-of-line characters. (Sorry, no CSV output formats.)</p>
<p>Use of this function is not required. ASCII values will receive a default format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pThis</td><td>The output plane in question</td></tr>
    <tr><td class="paramname">sValFmt</td><td>a printf style format string. Typical strings for general data values would be: '%9.2e', '%+13.6e'. In general strings such as '%13.3f' should <b>not</b> be used as these aren't guarunteed to have a fix output width and your value strings may be truncated.</td></tr>
    <tr><td class="paramname">nFmtWidth</td><td>the number of output characters indicated by this format. This is just the width of the formatted value, not including any field separators. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa22dfaa5392a99b9e6666879151074eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa22dfaa5392a99b9e6666879151074eb">&#9670;&nbsp;</a></span>DasEnc_setTimeFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DAS_API void DasEnc_setTimeFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDasEncoding.html">DasEncoding</a> *&#160;</td>
          <td class="paramname"><em>pThis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sTimeFmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nFmtWidth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the output format to be used when converting binary time values to to ASCII strings. </p>
<p>ASCII Time values are always encoded for output using the following C-call:</p>
<div class="fragment"><div class="line">sprintf(buf, sValFmt, year, month, dayofmonth, hour, min, sec);</div>
</div><!-- fragment --><p>The seconds field is double precision. Note that you do <b>not</b> have to convert all the fields in your output. In this case the output time will be a truncated time.</p>
<p>ASCII values are written to Das2 streams with a single space character between each formatted value. The last value of the the last plane is followed by a new-line character instead of a space character. Using this function will change the value format, but will not alter the separater character or the end-of-line characters. Sorry, no CSV output formats.</p>
<p>Use of this function is not required. ASCII Time values will receive a default format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pThis</td><td>The output plane in question</td></tr>
    <tr><td class="paramname">sTimeFmt</td><td>a printf style format string. An example strings would be: '%04d-%02d-%02dT%02d:%02d%02.0fZ' for seconds resolution with the Zulu time character 'Z' appended.</td></tr>
    <tr><td class="paramname">nFmtWidth</td><td>the number of output characters indicated by this format. This is just the width of the formatted value, not including any field separators. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9b038f1b01a3a124ca3ccdf5fbafcbc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b038f1b01a3a124ca3ccdf5fbafcbc1">&#9670;&nbsp;</a></span>DasEnc_hash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DAS_API unsigned int DasEnc_hash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDasEncoding.html">DasEncoding</a> *&#160;</td>
          <td class="paramname"><em>pThis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a hash value suitable for use in switch statements. </p>
<p>Combines the DasEncoding::nWidth and DasEncoding::nCategory into a single integer that represents the encoding. <br  />
</p>
<p>Since there are only 4 binary value output encodings the following constants are defined for the binary encoding hash values.</p>
<ul>
<li><b>DAS2DT_BE_REAL_4</b> - Big-Endian 4-byte IEEE-754 reals</li>
<li><b>DAS2DT_LE_REAL_4</b> - Little-Endian 4-byte IEEE-754 reals</li>
<li><b>DAS2DT_BE_REAL_8</b> - Big-Endian 4-byte IEEE-754 reals</li>
<li><b>DAS2DT_LE_REAL_8</b> - Little-Endian 4-byte IEEE-754 reals</li>
</ul>
<p>To help with byte-swapping logic the following are also defined</p>
<ul>
<li><b>DAS2DT_DOUBLE</b> - The 8-byte real hash above that corresponds to either DAS2DT_BE_REAL_8 or DAS2DT_LE_REAL_8 depending on the host endian orber.</li>
<li><b>DAS2DT_FLOAT</b> - The 4-byte real hash above that corresponds to either DAS2DT_BE_REAL_4 or DAS2DT_LE_REAL_4 depending on the the host endian order.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pThis</td><td>the encoding to hash</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The encoding category in the lower byte and the width in the next to lowest byte. </dd></dl>

</div>
</div>
<a id="a02e73f053a226a12796aa98ef51a83b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02e73f053a226a12796aa98ef51a83b6">&#9670;&nbsp;</a></span>DasEnc_toStr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DAS_API <a class="el" href="group__utilities.html#ga9f7e3a196d85388e6fa0170ab7c39ff7">DasErrCode</a> DasEnc_toStr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDasEncoding.html">DasEncoding</a> *&#160;</td>
          <td class="paramname"><em>pThis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a string representation of the data type. </p>
<p>This provides a string representation of the data type that is suitable for use as the type parameter of a plane in a Das2 stream packet header. All Das2 Tools use the same string representations for encodings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pThis</td><td>the Das2 encoding to represent as a string.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sType</td><td>a buffer to receive this encoding's type string, should be at least 20 bytes long. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nLen</td><td>the actual length of the string buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success a positive error code if there is a problem </dd></dl>

</div>
</div>
<a id="ae6f2c2ec0d94d0bf34fcdb1cb9a58ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f2c2ec0d94d0bf34fcdb1cb9a58ef8">&#9670;&nbsp;</a></span>DasEnc_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DAS_API <a class="el" href="group__utilities.html#ga9f7e3a196d85388e6fa0170ab7c39ff7">DasErrCode</a> DasEnc_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDasEncoding.html">DasEncoding</a> *&#160;</td>
          <td class="paramname"><em>pThis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DasBuf *&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__units.html#ga69f5744c4a283544d36b64714e8b422d">das_units</a>&#160;</td>
          <td class="paramname"><em>units</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode and write a value onto a string. </p>
<p>Writes a value onto a stream without any separators. Note that the ASCII types write one fewer bytes than their DasEncoding::nWidth parameter would indicate. The last byte is left for the caller to use as a separator of thier choosing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pThis</td><td>the <a class="el" href="classDasEncoding.html" title="Reading and writing values on das2 streams.">DasEncoding</a> object to handle the translation </td></tr>
    <tr><td class="paramname">pBuf</td><td>a write buffer to receive the encoded bytes </td></tr>
    <tr><td class="paramname">value</td><td>The value to write </td></tr>
    <tr><td class="paramname">units</td><td>All values are held internally by the library as doubles. In the instance that the output type for this encoding is a time string this parameter will be used to determine the epoch and scale for <em>value</em>. Otherwise it is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a positive error value on an error. </dd></dl>

</div>
</div>
<a id="afe3e7345e7d9f30765fa342c3b389cd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe3e7345e7d9f30765fa342c3b389cd6">&#9670;&nbsp;</a></span>DasEnc_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DAS_API <a class="el" href="group__utilities.html#ga9f7e3a196d85388e6fa0170ab7c39ff7">DasErrCode</a> DasEnc_read </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDasEncoding.html">DasEncoding</a> *&#160;</td>
          <td class="paramname"><em>pThis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DasBuf *&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__units.html#ga69f5744c4a283544d36b64714e8b422d">das_units</a>&#160;</td>
          <td class="paramname"><em>units</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>pOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read and Decode a value from a string. </p>
<p>Reads a value from a stream consuming and ignoring separators.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pThis</td><td>the <a class="el" href="classDasEncoding.html" title="Reading and writing values on das2 streams.">DasEncoding</a> object to handle the translation</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pBuf</td><td>The buffer to read from. This buffer should have at least DasEncoding::nWidth more valid bytes in the buffer from the current read location.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">units</td><td>All values are held internally by the library as doubles. <br  />
 this means that times must be converted to some number of steps from a 0 time. The units value provides this information. It is not consulted for non-time fields.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pOut</td><td>The decoded value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or a positive error code if there is a problem. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>das2/<a class="el" href="encoding_8h_source.html">encoding.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
